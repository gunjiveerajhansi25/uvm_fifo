// `include "coverage.sv"

class my_env extends uvm_env;
  `uvm_component_utils(my_env)
  
  function new(string name = "m_en",uvm_component parent = null);
    super.new(name,parent);
  endfunction
  
  my_agent m_age;
  my_sb    sb;
  coverage  cov;
  
  virtual function void build_phase(uvm_phase phase);
    super.build_phase(phase);
    m_age = my_agent :: type_id :: create("m_age",this);
    sb    = my_sb    :: type_id :: create("sb",this);
    cov   = coverage :: type_id :: create("cov", this);
  endfunction
  
  virtual function void connect_phase(uvm_phase phase);
    super.connect_phase(phase);
    m_age.m_mon.mon_ana_port.connect(sb.ana_imp);
    m_age.m_mon.mon_ana_port.connect(cov.ana_imp);
  endfunction
endclass